webpackJsonp([39],{"57iv":function(t,e){},"5yNL":function(t,e){},"7VRX":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("mvHQ"),r=i.n(n),a=i("k6jg"),o=i("8l2o"),s={tree:[{id:1,parentId:0,text:"北京市"},{id:2,parentId:1,text:"西城区"},{id:3,parentId:1,text:"东城区"},{id:5,parentId:0,text:"西藏自治区"},{id:6,parentId:5,text:"拉萨市"},{id:7,parentId:5,text:"昌都市"},{id:8,parentId:7,text:"丁青县"}],tableData:[{code:"001",id:1,address:"海淀区",remark:"北京市-海淀区",enable:1,createDate:"2020-04-01 20:00"},{code:"001",id:1,address:"朝阳区",remark:"北京市-朝阳区",enable:1,createDate:"2020-04-01 20:00"},{code:"001",id:2,address:"恭王府 ",remark:"世界最大的四合院除皇帝和家眷外，任何人是不得住进紫禁城的",enable:1,createDate:"2020-04-01 20:00"},{code:"002",id:3,address:"白塔寺 ",remark:"妙应寺白塔位于阜城门内大街路北的妙应寺内。因寺内有通体涂以白垩的塔，故俗称“白塔寺”",enable:0,createDate:"2020-04-01 20:00"},{code:"004",id:6,address:"布达拉宫",remark:"布达拉宫不仅是西藏的象征，更是朝圣者心中的圣地",enable:1,createDate:"2020-04-01 20:00"},{code:"005",id:5,address:"大昭寺",remark:"在藏民心中大昭寺在拉萨的中心地位",enable:1,createDate:"2020-04-01 20:00"},{code:"007",id:7,address:"测试 ",remark:"测试测试",enable:1,createDate:"2020-04-01 20:00"},{code:"008",id:5,address:"日客则 ",remark:"位于定日县境内的珠穆朗玛峰是世界第一高峰。峰顶常年积雪",enable:0,createDate:"2020-04-01 20:00"}]},d={components:{VolTable:a.a,VolHeader:o.a},created:function(){this.$store.getters.data().tableDemo2=this},data:function(){return{tableData:[],columns:[{field:"code",title:"编号",isKey:!0},{field:"address",title:"详细地址",type:"text",width:150},{field:"remark",title:"备注",type:"text",width:150},{field:"enable",title:"是否可用",bind:{key:"enable",data:[]},width:150,edit:{type:"switch",keep:!0}},{field:"createDate",title:"创建日期",type:"datetime",width:150}]}},methods:{refresh:function(){var t=this,e=this.$store.getters.data().treeDemo2.treeId;void 0==e&&(this.tableData=[]);var i=[];s.tree.forEach(function(n){n.parentId==e&&(n.lv=1,n.children=[],i.push(n.id),t.getTree(n.id,n,i))}),console.log(i);var n=[];s.tableData.forEach(function(t){-1==i.indexOf(t.id)&&t.id!=e||n.push(t)}),this.tableData=n},getTree:function(t,e,i){var n=this;s.tree.forEach(function(i){i.parentId==t&&(i.lv=e.lv+1,e.children||(e.children=[]),e.children.push(i),n.getTree(i.id,i))})},del:function(){if(0==this.$refs.editTable.getSelected().length)return this.$Message.error("请先选中行");this.$refs.editTable.delRow()},clear:function(){this.tableData.splice(0)},add:function(){this.tableData.push({})},getRows:function(){var t=this.$refs.editTable.getSelected();if(0==t.length)return this.$Message.error("请先选中行");this.$Message.error(r()(t))},endEdit:function(){this.$refs.editTable.edit.rowIndex=-1}}},l={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{padding:"20px 15px"}},[i("VolHeader",{staticStyle:{"padding-bottom":"15px"},attrs:{icon:"md-podium",text:"点树形菜单自定义加载数据"}},[i("div",{attrs:{slot:"content"},slot:"content"},[t._v("当前选中的是:"+t._s(t.$store.getters.data().treeDemo2.text))]),t._v(" "),i("div",{staticStyle:{"text-align":"right"}},[i("Button",{attrs:{type:"info",ghost:""},on:{click:t.clear}},[t._v("清空表")]),t._v(" "),i("Button",{attrs:{type:"info",ghost:""},on:{click:t.del}},[t._v("删除行")]),t._v(" "),i("Button",{attrs:{type:"info",ghost:""},on:{click:t.add}},[t._v("添加行")]),t._v(" "),i("Button",{attrs:{type:"info",ghost:""},on:{click:t.getRows}},[t._v("获取选中的行")])],1)]),t._v(" "),i("vol-table",{ref:"editTable",attrs:{columns:t.columns,maxHeight:550,loadKey:!0,index:!0,tableData:t.tableData,"pagination-hide":!0}})],1)},staticRenderFns:[]},h=i("VU/8")(d,l,!1,null,null,null).exports,c={props:{onChange:{type:Function,default:function(t){}}},data:function(){return{selectId:-1,checked:!1,openKeys:[],tree:[]}},created:function(){this.load()},methods:{load:function(){var t=this;s.tree.forEach(function(e){0==e.parentId&&(e.lv=1,e.children=[],t.tree.push(e),t.getTree(e.id,e))}),this.openKeys.push(this.tree[0].id),this.selectId=this.openKeys[0],this.$store.getters.data().treeDemo2.treeId=this.selectId,this.$store.getters.data().treeDemo2.text=this.tree[0].text,this.onChange(this.selectId)},getTree:function(t,e){var i=this;s.tree.forEach(function(n){n.parentId==t&&(n.lv=e.lv+1,e.children||(e.children=[]),e.children.push(n),i.getTree(n.id,n))})},nodeClick:function(t,e){console.log(t),this.selectId=t.id,this.$store.getters.data().treeDemo2.treeId=t.id,this.$store.getters.data().treeDemo2.text=t.text,this.onChange(t.id)}}},u={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"com-el-tree"},[i("div",{staticClass:"role-list"},[t._v("测试列表")]),t._v(" "),i("el-scrollbar",{staticClass:"el-role-tree",staticStyle:{height:"100%",width:"210px"}},[i("el-tree",{staticStyle:{padding:"5px 0"},attrs:{data:t.tree,"node-key":"id","default-expanded-keys":t.openKeys,"expand-on-click-node":!1},on:{"node-click":t.nodeClick},scopedSlots:t._u([{key:"default",fn:function(e){e.node;var n=e.data;return i("div",{staticClass:"action-group"},[i("div",{staticClass:"action-text",class:{actived:n.id==t.selectId,"node-text":0!==n.parentId},style:{width:18*(4-n.lv)+150+"px"}},[0!==n.parentId?i("Icon",{attrs:{type:n.id==t.selectId?"ios-radio-button-on":"ios-radio-button-off"}}):t._e(),t._v("\n          "+t._s(n.text)+"\n        ")],1)])}}])})],1)],1)},staticRenderFns:[]};var f={components:{treeDemo:i("VU/8")(c,u,!1,function(t){i("5yNL"),i("57iv")},"data-v-79773669",null).exports,TableDemo:h},created:function(){this.$store.getters.data().treeDemo2={treeId:void 0}},methods:{onChange2:function(t){var e=this;this.$refs.table2?this.$store.getters.data().tableDemo2.refresh():this.$nextTick(function(){e.$store.getters.data().tableDemo2.refresh()})}}},p={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"com-tree"},[e("div",{staticClass:"left-tree"},[e("tree-demo",{attrs:{onChange:this.onChange2}})],1),this._v(" "),e("div",{staticClass:"right-table"},[e("table-demo",{ref:"table2"})],1)])},staticRenderFns:[]};var m=i("VU/8")(f,p,!1,function(t){i("IBmB")},"data-v-4731f913",null);e.default=m.exports},"8l2o":function(t,e,i){"use strict";var n={props:{icon:{type:String,default:""},text:{type:String,default:"未定义名称"}}},r={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"v-header"},[i("div",{staticClass:"v-left-text"},[i("Icon",{attrs:{size:"20",type:t.icon}}),t._v(" "),i("span",[t._v(t._s(t.text))])],1),t._v(" "),i("div",{staticClass:"content"},[t._t("content")],2),t._v(" "),i("div",{staticClass:"v-right-content"},[t._t("default")],2)])},staticRenderFns:[]};var a=i("VU/8")(n,r,!1,function(t){i("TDQ+")},"data-v-470a4ad7",null);e.a=a.exports},IBmB:function(t,e){},OuMS:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAE4AAABHCAIAAAAmx+aCAAAFKElEQVR4Ae1b6U9iMRBfEA8QEBS8D/CKu0YTE///mOxno4KoKOjiweWBCogH4P7MS14K772+tmg5DR/KdDqd30w7nU7RUq1Wf3XHn7U7YH6htGmhlkql8seHlt5elCG7vb+/n9S5BipAhvb2np+eSI42bVsslpm5ud/r66r+NQs4fnbWGTgB7/PzM3l9nU4m9aGWXl7Ujg5oIOJinapAaryqUjuy0UVQa8KS1pkut9tmM+HRjmoWBRvw9fXVaHYaDKvVGggGJ6enjQa3Gv0wFErd3Bhp1UULuAfVaBG0M73n1Xb2npHutAhsNIakIx3JpFKPuVy5XHY6nWN+v8/ns1hbcbGIQ30tlY4OD+/v7lTkuYeHq8vLPpttIRBYWllR6S3SEIT6cH9/eHDw9vamhVEpl89jMVwbNre2+vr6tAzNooistKfHx7ABThXG3e3tSSSifm2FhgjUeCz2rufPOjzpVIq8Q9X1yv/KDRUb8imXY1EUd6ikcZrGIuF7ebihYpci2DIqkc/ni4UCI7MuW6VS2d/dpWS2uqN0idxhibzs6kokidVKBaFr2OkkiextBSeMi+hgdzg8Xi/7WC0nt1e1IigUrOGPBipyCGzACfnv7+9H4TCXlbVacUPlur7isHE4HNpZWSiRUIjc6sVi8fTkhGWgEQ83VLfbzZ4MDQ4NoUhpNDeFjoJeiqiAKZy3mQzolFH0Lm6oSP3szNr7x8frirF0bZRe4LmIx1Hyq2MGJXFxIRyiuKEODg7Ozs+jylqnh/br8PAwKrFaOp1yc30NPFqcyigEKixjpNx0Ibq93FAhBSnulFkVZmBg4M/GBrv/FeXgsejREfDo6qoQhUOUCFRMub65ibKTkW+xP5EA854NCLbwGB2nghYhCkGLhZM0Gfe5qg5eWVtDhS12eqrc4BQ6QM7Mzi4Eg7yJPoSE9/fhMVU+vYGkDUcRLE5nI3vFoUIKSqdb29ukOLF2/vkZxT52nMosCNGwLPttUXABi0HSHYXEAP4UeEPhDchNhgqcePvD3tO1gimRKyA3EyoURXRp8O2PPSA3DSpwwp+ILqauM2VgDMhNg4r4iUqFKQxGBpjsLBqlMzcUgemiKb2RcJhM5Smc7F14OMZFj8LfBK9+pfI/UJ3Ajijk8y0E9ebq6t/5uVGKS1G08S7ZXh3xeATuOo3jhITvgZpNp//u7KAI9GJ2QjpdLv/ExLeoziuk0bD0Wa0i9F0mEliTqPffZrPIFpGs4aZqpArugNlMhqW8aiRBjN4QVPgQte+6HAAJLdyL7BSQAoGAtmThcrnGfL6fiEx0E4hDRbYdPT7+MLiLwMOxaBTFhMmpKTgZF3pSD9x+UD1hL7KSY4XbIlAR1pEAAKppIMX7DUIuTjy4Mbi87PF4FEW9o6OgZNJpYb0FBnJDxfpE4opaNvtksAgSI3zwKrmwuDg9M4OxWN54xZPpWD6oV4kEghC8yo6T5CwUCjATSg1z8/O4vo94vffflxuSE+m2WaGicn0cieDVWFcKFxHbG6+SqJXh4EHJxnQXcAmnMDNBxTsCvCF8q9SdHksDYnW7fohoAhWlWERRfIQX7Q/pLSCWBhVLC6m5QClEQA8JQ2iJIaB2DE6YkgZVgqVlTtGDKtPasubqeVWWpWXO0/OqTGvLmqvnVVmWljlPz6syrS1rrm71qntkRJaJZcyDX5OhUqvOVOPV5dVV1KONfsyhjmmLBn5sHlxa8vn9qraW3j9gq7bonEbNAu4cWHpIugjqf1AGc7Cf0XD8AAAAAElFTkSuQmCC"},"TDQ+":function(t,e){},UtSh:function(t,e){},k6jg:function(t,e,i){"use strict";var n=i("mvHQ"),r=i.n(n),a=i("woOf"),o=i.n(a),s=i("Gu7T"),d=i.n(s),l={components:{"table-render":{name:"TableExpand",functional:!0,props:{render:Function,row:{},column:{},index:{type:Number,default:0}},render:function(t,e){var i={row:e.props.row,column:e.props.column,index:e.props.index};return e.props.render(t,i)}}},props:{tableData:{type:Array,default:function(){return[]}},columns:{type:Array,default:[]},height:{type:Number,default:0},maxHeight:{type:Number,default:0},linkView:{type:Function,default:function(){return 1}},pagination:{type:Object,default:function(){return{total:0,size:0,sortName:""}}},url:{type:String,default:""},paginationHide:{type:Boolean,default:!0},color:{type:Boolean,default:!0},index:{type:Boolean,default:!1},allowEmpty:{type:Boolean,default:!0},defaultLoadPage:{type:Boolean,default:!0},loadKey:{type:Boolean,default:!1},single:{type:Boolean,default:!1},doubleEdit:{type:Boolean,default:!0},clickEdit:{type:Boolean,default:!1},beginEdit:{type:Function,default:function(t,e,i){return!0}},endEditBefore:{type:Function,default:function(t,e,i){return!0}},endEditAfter:{type:Function,default:function(t,e,i){return!0}},ck:{type:Boolean,default:!0}},data:function(){return{visiblyColumns:[],key:"",realHeight:0,realMaxHeight:0,enableEdit:!1,empty:this.allowEmpty?"":"--",defaultImg:'this.src="'+i("OuMS")+'"',loading:!1,footer:{},total:0,formatConfig:{},defaultColor:"default",colors:["cyan","red","blue","green","magenta","geekblue","gold","orange","default"],rule:{phone:/^[1][3,4,5,6,7,8,9][0-9]{9}$/,decimal:/(^[\-0-9][0-9]*(.[0-9]+)?)$/,number:/(^[\-0-9][0-9]*([0-9]+)?)$/},columnNames:[],rowData:[],paginations:{sort:"",order:"desc",Foots:"",total:0,sizes:[30,60,100,120],size:30,Wheres:[],page:1,rows:30},errorFiled:"",edit:{columnIndex:-1,rowIndex:-1},editStatus:{},summary:!1,summaryData:[],summaryIndex:{},remoteColumns:[]}},created:function(){var t=this;this.realHeight=this.getHeight(),this.realMaxHeight=this.getMaxHeight();var e=[],i=[];this.summaryData.push("合计"),this.columns.forEach(function(n,r){n.hidden||(t.summaryData.push(""),t.summaryIndex[n.field]=t.summaryData.length),n.summary&&!t.summary&&(t.ck=!0,t.summary=!0),!n.bind||!n.bind.key||n.bind.data&&0!=n.bind.data.length||(n.bind.data||(n.bind.data=[]),n.bind.remote?t.remoteColumns.push(n):t.loadKey&&(e.push(n.bind.key),n.bind.valueTyoe=n.type,i.push(n.bind)))}),e.length>0&&this.http.post("/api/Sys_Dictionary/GetVueDictionary",e).then(function(t){t.forEach(function(t){i.forEach(function(e){var i;"int"!=e.valueTyoe&&"sbyte"!=e.valueTyoe||t.data.forEach(function(t){isNaN(t.key)||(t.key=~~t.key)}),e.key==t.dicNo&&(i=e.data).push.apply(i,d()(t.data))})})}),this.paginations.sort=this.pagination.sortName,o()(this.paginations,this.pagination),this.pagination.size&&(this.paginations.rows=this.pagination.size),this.enableEdit=this.columns.some(function(t){return t.hasOwnProperty("edit")});var n=this.columns.find(function(t){return t.isKey});n&&(this.key=n.field),this,this.defaultLoadPage&&this.load()},methods:{headerClick:function(t,e){this.clickEdit&&-1!=this.edit.rowIndex&&this.rowEndEdit(this.url?this.rowData[this.edit.rowIndex]:this.tableData[this.edit.rowIndex],t)&&(this.edit.rowIndex=-1)},rowClick:function(t,e,i){if(this.doubleEdit){if(this.clickEdit&&-1!=this.edit.rowIndex){if(t.elementIdex==this.edit.rowIndex)return void(this.columns.some(function(t){return t.field==(i.property||e.property)&&t.edit})||this.rowEndEdit(t,i)&&(this.edit.rowIndex=-1));this.rowEndEdit(t,i.propert?i:e)&&(this.edit.rowIndex=-1)}this.rowBeginEdit(t,e)}},dowloadFile:function(t){this.base.dowloadFile(t.path,t.name,{Authorization:this.$store.getters.getToken()},this.http.ipAddress)},getFilePath:function(t){if(!t)return"";for(var e=t.replace(/\\/g,"/").split(","),i=[],n=0;n<e.length;n++){var r=e[n];if(-1!=r.indexOf(".")){var a=r.split("/");a.length>0&&i.push({name:a[a.length-1],path:this.base.isUrl(r)?r:this.http.ipAddress+r})}}return i},reset:function(){this.tableData&&this.tableData.length>0&&this.tableData.splice(0),this.rowData&&this.rowData.length>0&&this.rowData.splice(0),this.paginationHide||(this.paginations.page=1,this.paginations.wheres&&this.paginations.wheres.length>0&&this.paginations.wheres.splice(0)),this.errorFiled="",this.edit.columnIndex=-1,this.edit.rowIndex=-1},getHeight:function(){return this.height||this.maxHeight?this.maxHeight?null:this.height:null},getMaxHeight:function(){return(this.height||this.maxHeight)&&this.maxHeight?this.maxHeight:null},getSelectedOptions:function(t){return t.bind&&t.bind.data&&t.bind.data.length>0?t.bind.data:[]},formatterClick:function(t,e,i){e.click&&e.click(t,e,i)},initIndex:function(t){return this.index&&(t.row.elementIdex=t.rowIndex),""},toggleEdit:function(t){},setEditStatus:function(t){var e=this;this.columns.forEach(function(i){i.hasOwnProperty("edit")&&e.$set(i.edit,"status",t)})},beginWithButtonEdit:function(t){this.rowBeginEdit(t.row,this.columns[t.$index])},endWithButtonEdit:function(t){if(-1!=this.edit.rowIndex&&this.endEditBefore(t.row,this.columns[t.$index],t.$index)){for(var e=0;e<this.columns.length;e++){var i=this.columns[e];if(!i.hidden&&(i.required||i.require)&&!this.validateColum(i,t.row))return}this.edit.rowIndex=-1,this.endEditAfter(t.row,this.columns[t.$index],t.$index)}},rowBeginEdit:function(t,e){if(-1==this.edit.rowIndex&&this.enableEdit&&this.beginEdit(t,e,t.elementIdex)&&t.hasOwnProperty("elementIdex")){if(this.edit.rowIndex==t.elementIdex)return;this.edit.rowIndex=t.elementIdex}},validateColum:function(t,e){if(t.hidden||t.bind)return!0;var i=e[t.field];if((t.require||t.required)&&"0"!=i&&(""==i||void 0==i))return this.errorFiled||this.$Message.error(t.title+"不能为空"),!1;if(!t.edit)return!0;var n=t.edit.type;if("int"==n||"decimal"==n||"number"==n){if(""==i||void 0==i)return!0;if("decimal"==n){if(!this.rule.decimal.test(i))return this.$Message.error(t.title+"只能是数字"),!1}else if(!this.rule.decimal.test(i))return this.$Message.error(t.title+"只能是整数"),!1;return void 0!=t.edit.min&&"number"==typeof t.edit.min&&i<t.edit.min?(this.$Message.error(t.title+"不能小于"+t.edit.min),!1):!(void 0!=t.edit.max&&"number"==typeof t.edit.max&&i>t.edit.max)||(this.$Message.error(t.title+"不能大于"+t.edit.max),!1)}return!i||"text"!=n&&"string"!=n||(void 0!=t.edit.min&&"number"==typeof t.edit.min&&i.length<t.edit.min?(this.$Message.error(t.title+"至少"+t.edit.min+"个字符"),!1):!(void 0!=t.edit.max&&"number"==typeof t.edit.max&&i.length>t.edit.max)||(this.$Message.error(t.title+"最多"+t.edit.max+"个字符"),!1))},rowEndEdit:function(t,e,i){if(this.clickEdit&&i)return!0;if(!this.enableEdit)return this.errorFiled||(this.edit.rowIndex=-1),!0;if(!this.doubleEdit&&i)return!0;if(!this.endEditBefore(t,e,this.edit.rowIndex))return!1;if(-1!=this.edit.rowIndex&&(!this.errorFiled||this.errorFiled==e.property)){var n=(this.url?this.rowData:this.tableData)[this.edit.rowIndex],r=this.columns.find(function(t){return t.field==e.property});if(!r||!r.edit)return!0;if(("datetime"==r.edit.type||"date"==r.edit.type||"select"==r.edit.type)&&this.edit.rowIndex==t.elementIdex)return!0;if(!this.validateColum(r,n))return this.errorFiled=r.field,!1;this.errorFiled=""}return!this.errorFiled&&(!!this.endEditAfter(t,e,this.edit.rowIndex)&&(this.edit.rowIndex=-1,!0))},delRow:function(){var t=this.getSelected();if(0==t.length)return this.$Message.error("请选择要删除的行!");var e=this.url?this.rowData:this.tableData,i=this.getSelectedIndex();if(0==i.length)return this.$Message.error("删除操作必须设置VolTable的属性index='true'");if(0==i.length);else for(var n=e.length-1;n>=0;n--)-1!=i.indexOf(n)&&e.splice(n,1);return this.edit.rowIndex=-1,t},addRow:function(t){t||(t={}),this.columns.forEach(function(e){t.hasOwnProperty(e.field)||(e.edit&&"switch"==e.edit.type?t[e.field]="bool"!=e.type&&0:t.hidden||(t[e.field]=void 0))}),this.url?this.rowData.push(t):this.tableData.push(t)},viewImg:function(t,e,i){this.base.previewImg(i,this.http.ipAddress)},link:function(t,e){this.$props.linkView(t,e)},getSelected:function(){return this.$refs.table.selection},getSelectedIndex:function(){if(!this.index)return[];var t=this.$refs.table.selection.map(function(t){return t.elementIdex});return t||[]},GetTableDictionary:function(t){var e=this;if(0!=this.remoteColumns.length&&t&&0!=t.length){for(var i={},n=function(n){var r=e.remoteColumns[n],a=r.bind.key,o=[];t.forEach(function(t){-1==o.indexOf(t[r.field])&&o.push(t[r.field])}),o.length>0&&(i[a]=o)},r=0;r<this.remoteColumns.length;r++)n(r);0!=i.length&&this.http.post("/api/Sys_Dictionary/GetTableDictionary",i).then(function(t){t.forEach(function(t){e.remoteColumns.forEach(function(e){e.bind.key==t.key&&(e.bind.data=o()([],e.bind.data,t.data))})})})}},load:function(t,e){var i=this;if(this.url){e&&this.resetPage();var n={page:this.paginations.page,rows:this.paginations.rows,sort:this.paginations.sort,order:this.paginations.order,wheres:[]},a=!0;t&&(n=o()(n,t)),this.$emit("loadBefore",n,function(t){a=t}),a&&(n.wheres&&n.wheres instanceof Array&&(n.wheres=r()(n.wheres)),this.loading=!0,this.http.post(this.url,n).then(function(t){i.loading=!1,i.$emit("loadAfter",t.rows||[],function(t){a=t}),a&&(i.GetTableDictionary(t.rows),i.rowData=t.rows||[],i.paginations.total=t.total,i.getSummaries(t))},function(t){i.loading=!1}))}},getSummaries:function(t){var e=this;this.summary&&t.summary&&(this.summaryData.splice(0),this.ck&&this.summaryData.push(0),this.columns.forEach(function(i){i.hidden||(t.summary.hasOwnProperty(i.field)?e.summaryData.push(t.summary[i.field]):e.summaryData.push(""))}),this.summaryData.length>0&&""==this.summaryData[0]&&(this.summaryData[0]="合计"))},getInputChangeSummaries:function(){},filterColumns:function(){return this.columns.filter(function(t){return!t.hidden})},handleSizeChange:function(t){this.paginations.rows=t,this.load()},handleCurrentChange:function(t){this.paginations.page=t,this.load()},sortChange:function(t){this.paginations.sort=t.prop,this.paginations.order="ascending"==t.order?"asc":"desc",this.load()},resetPage:function(){this.paginations.page=1},selectionChange:function(t){this.single&&1==t.length&&this.$emit("rowChange",t[0]),this.single&&t.length>1&&this.$refs.table.toggleRowSelection(t[0])},getColor:function(t,e){var i=t[e.field];if(e.getColor&&"function"==typeof e.getColor){var n=e.getColor(t,e);if(n)return n}if(!i&&"0"!=i)return this.defaultColor;if(!this.formatConfig[e.field])return this.formatConfig[e.field]=[i],this.colors[0];var r=this.formatConfig[e.field].indexOf(i);return-1!=r?this.colors[r]:this.formatConfig[e.field].length>15?this.defaultColor:(-1==r&&(this.formatConfig[e.field].push(i),r=this.formatConfig[e.field].length-1),this.colors[r])},formatterDate:function(t,e){return(t[e.field]||"").substr(0,10)},formatter:function(t,e,i){if(!i)return t[e.property];var n=t[e.field];if(e.edit&&"switch"==e.edit.type)return n?"是":"否";if(!e.bind||!e.bind.data)return t[e.field];if(!n&&0!=n)return n;if(("selectList"==e.bind.type||"checkbox"==e.bind.type)&&"string"==typeof n&&-1!=n.indexOf(","))return this.getSelectFormatter(e,n);var r=e.bind.data.filter(function(t){return""!==t.key&&void 0!==t.key&&t.key+""==n+""});return r&&r.length>0&&(n=r[0].value),n},getSelectFormatter:function(t,e){for(var i=e.split(","),n=function(e){t.bind.data.forEach(function(t){""!==t.key&&void 0!==t.key&&t.key+""==i[e]+""&&(i[e]=t.value)})},r=0;r<i.length;r++)n(r);return i.join(",")},onChange:function(t,e,i,n){var r=t.row;n.onChange&&!n.onChange(r,e,i)||this.getInputSummaries(t,e,i,n)},getInputSummaries:function(t,e,i,n){if(n.summary){var r=0;(this.url?this.rowData:this.tableData).forEach(function(t,e){t.hasOwnProperty(n.field)&&!isNaN(t[n.field])&&(e,r+=1*t[n.field])}),this.$set(this.summaryData,this.summaryIndex[n.field]-1,r)}}}},h={render:function(){var t=this,e=this,i=e.$createElement,n=e._self._c||i;return n("div",[n("div",{staticClass:"vol-table"},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.loading,expression:"loading"}],staticClass:"mask"}),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.loading,expression:"loading"}],staticClass:"message"},[e._v("加载中.....")]),e._v(" "),n("el-table",{ref:"table",staticClass:"v-table",staticStyle:{width:"100%"},attrs:{"show-summary":e.summary,"summary-method":function(e,i){return t.summaryData},"tooltip-effect":"dark",height:e.realHeight,"max-height":e.realMaxHeight,data:e.url?e.rowData:e.tableData,border:"","row-class-name":e.initIndex},on:{"selection-change":e.selectionChange,"row-click":e.rowClick,"header-click":e.headerClick,"cell-mouse-leave":function(e,i,n){!t.clickEdit&&t.rowEndEdit(e,i,n)},"sort-change":e.sortChange}},[e.ck?n("el-table-column",{attrs:{type:"selection",width:"55"}}):e._e(),e._v(" "),e._l(e.filterColumns(),function(t,i){return n("el-table-column",{key:i,attrs:{prop:t.field,label:t.title,"min-width":t.width,formatter:e.formatter,fixed:t.fixed,align:t.align,sortable:!!t.sort&&"custom"},scopedSlots:e._u([{key:"default",fn:function(i){return[t.render&&"function"==typeof t.render?n("table-render",{attrs:{row:i.row,index:i.$index,column:t,render:t.render}}):t.edit?n("div",{staticClass:"edit-el"},[t.edit.keep||e.edit.rowIndex==i.$index?n("div",{staticClass:"e-item"},[n("div",["date"==t.edit.type||"datetime"==t.edit.type?n("DatePicker",{attrs:{transfer:!0,type:t.edit.type,format:"date"==t.edit.type?"yyyy-MM-dd":"yyyy-MM-dd HH:mm:ss",placeholder:t.title,value:i.row[t.field]},on:{"on-change":function(e){return i.row[t.field]=e,t.onChange&&t.onChange(e,t),e}}}):"switch"==t.edit.type?n("i-switch",{attrs:{"true-value":"boolean"==typeof i.row[t.field]||1,"false-value":"boolean"!=typeof i.row[t.field]&&0},on:{"on-change":function(n){t.onChange&&t.onChange(t,i.row,e.url?e.rowData:e.tableData,n)}},model:{value:i.row[t.field],callback:function(n){e.$set(i.row,t.field,n)},expression:"scope.row[column.field]"}},[n("span",{attrs:{slot:"open"},slot:"open"},[e._v("是")]),e._v(" "),n("span",{attrs:{slot:"close"},slot:"close"},[e._v("否")])]):"select"==t.edit.type?n("Select",{attrs:{transfer:!0,filterable:!!(t.filter||e.getSelectedOptions(t).length>10),placeholder:"请选择"+t.title,clearable:""},on:{"on-change":function(n){t.onChange&&t.onChange(t,i.row,e.url?e.rowData:e.tableData)}},model:{value:i.row[t.field],callback:function(n){e.$set(i.row,t.field,n)},expression:"scope.row[column.field]"}},e._l(e.getSelectedOptions(t),function(t,i){return n("Option",{key:i,attrs:{value:void 0===t.key?"":t.key}},[e._v(e._s(t.value))])}),1):n("Input",{ref:t.field+i.$index,refInFor:!0,attrs:{clearable:"",placeholder:"请输入"+t.title},on:{"on-change":function(n){e.onChange(i,i.row[t.field],n,t)},"on-keypress":function(e){t.onKeyPress&&t.onKeyPress(e,i,t)}},model:{value:i.row[t.field],callback:function(n){e.$set(i.row,t.field,n)},expression:"scope.row[column.field]"}})],1),e._v(" "),t.extra&&e.edit.rowIndex==i.$index?n("div",{staticClass:"extra"},[n("a",{style:t.extra.style,on:{click:function(){t.extra.click&&t.extra.click(t,i.row,e.url?e.rowData:e.tableData)}}},[t.extra.icon?n("Icon",{attrs:{type:t.extra.icon}}):e._e(),e._v("\n                  "+e._s(t.extra.text)+"\n                ")],1)]):e._e()]):[t.formatter?n("div",{domProps:{innerHTML:e._s(t.formatter(i.row,t))}}):n("div",[e._v(e._s(e.formatter(i.row,t,!0)))])]],2):n("div",[t.link?n("a",{attrs:{href:"javascript:void(0)"},domProps:{textContent:e._s(i.row[t.field])},on:{click:function(n){e.link(i.row,t)}}}):"img"==t.type?e._l(e.getFilePath(i.row[t.field]),function(r,a){return n("img",{key:a,staticClass:"table-img",attrs:{onerror:e.defaultImg,src:r.path},on:{click:function(n){e.viewImg(i.row,t,r.path)}}})}):"file"==t.type||"excel"==t.type?e._l(e.getFilePath(i.row[t.field]),function(t,i){return n("a",{key:i,staticClass:"t-file",staticStyle:{"margin-right":"15px"},on:{click:function(i){e.dowloadFile(t)}}},[e._v(e._s(t.name))])}):"date"==t.type?n("Tag",[e._v(e._s(e.formatterDate(i.row,t)))]):t.formatter?n("div",{domProps:{innerHTML:e._s(t.formatter(i.row,t))},on:{click:function(n){e.formatterClick(i.row,t)}}}):t.bind&&t.normal?n("div",{style:t.getStyle&&t.getStyle(i.row,t),on:{click:function(n){e.formatterClick(i.row,t)}}},[e._v("\n              "+e._s(e.formatter(i.row,t,!0))+"\n            ")]):t.click?n("div",{on:{click:function(n){e.formatterClick(i.row,t)}}},[e._v("\n              "+e._s(i.row[t.field])+"\n            ")]):t.bind?n("Tag",{attrs:{color:e.getColor(i.row,t)}},[e._v(e._s(e.formatter(i.row,t,!0)))]):n("div",[e._v(e._s(e.formatter(i.row,t,!0)))])],2)]}}])})}),e._v(" "),e.doubleEdit?e._e():n("el-table-column",{attrs:{"min-width":100,label:"操作",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("Button",{attrs:{type:"info",size:"small",ghost:""},on:{click:function(i){e.beginWithButtonEdit(t)}}},[e._v("编辑")]),e._v(" "),n("Button",{attrs:{type:"info",size:"small",ghost:""},on:{click:function(i){e.endWithButtonEdit(t)}}},[e._v("完成")])]}}])})],2)],1),e._v(" "),e.paginationHide?e._e():n("div",{staticClass:"block pagination"},[n("el-pagination",{attrs:{"current-page":e.paginations.page,"page-sizes":e.paginations.sizes,"page-size":e.paginations.size,layout:"total, sizes, prev, pager, next, jumper",total:e.paginations.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)])},staticRenderFns:[]};var c=i("VU/8")(l,h,!1,function(t){i("UtSh"),i("w72T")},"data-v-37598e34",null);e.a=c.exports},w72T:function(t,e){}});